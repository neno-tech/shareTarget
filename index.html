<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=0,
viewport-fit=cover">
<title>LIFF: LINE Front-end Framework</title>
</head>
<body>
    <h1>ok</h1>
    <img id="pictureUrl">
    <p id="userId"><b>userId:</b> </p>
    <p id="displayName"><b>displayName:</b></p>
    <p id="statusMessage"><b>statusMessage:</b> </p>
    <p id="decodedIDToken"><b>email:</b></p>
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <script>
    async function getUserProfile(){
    const profile = await liff.getprofile()
    document.getElementById("pictureUrl").src = profile.pictureUrl
    document.getElementById("userId").append(profile.userId)
    document.getElementById("statusMessage").append(profile.statusMessage)
    document.getElementById("displayName").append(profile.displayName)
    document.getElementById("decodedIDToken").append(liff.getDecodedIDToken().email)
    }
    async function main(){
    await liff.init({liffId: "1657345952-QbM1WlBD", withLogin0nExternalBrowser: true })
    if (liff.isLoggedIn()){
    getUserProfile()
      }else{
          liff.login()
      }
    }
    main()
    </script>
    </body>
</html>
  
